tasks:
  be_run:
    shell: | 
      cd backend
      uv run uvicorn cocoon.main:app --reload
      cd ..
    help: run the backend uvicorn server
  deploy:
    shell: |
      cd backend
      gcloud app deploy --quiet
      cd ..
    help: deploy app on google cloud
  fe_build:
    shell: | 
      cd frontend
      yarn
      cd ..
    help: update frontend installation    
  fe_generate:
    shell: | 
      cd frontend
      API_URL=https://cocoon.kosk.be/ yarn generate
      cd ..
    help: generate static frontend    
  fe_run:
    shell: | 
      cd frontend
      yarn dev
      cd ..
    help: run yarn dev in frontend
  gcp_init:
    shell: | 
      gcloud config configurations activate cocoon
      gcloud auth application-default login
    help: activate the gcloud cocoon configuration
